(this["webpackJsonpjungle-store"]=this["webpackJsonpjungle-store"]||[]).push([[0],{39:function(e,t,s){},68:function(e,t,s){"use strict";s.r(t);var c=s(1),r=s.n(c),a=s(30),n=s.n(a),l=(s(39),s(18)),u=s.n(l),i=s(31),o=s(9),d=s(4),j=s(0),h=function(){return Object(j.jsx)(d.b,{to:"/",children:Object(j.jsx)("img",{className:"logo",src:"/img/fake-logo.png",alt:"logo"})})},b=s(34),O=s(15),m=s(21),p=s(10),x=function(e){var t=Object(c.useState)({term:""}),s=Object(o.a)(t,2),r=s[0],a=s[1],n=function(t){t.preventDefault(),t.stopPropagation(),r.term.trim()?e.submitSearch():e.resetResults()};return Object(j.jsxs)("form",{className:"search-form",onSubmit:n,children:[Object(j.jsx)("input",{className:"form-input search-input",name:"term",type:"text",placeholder:"Find...",value:r.term,onChange:function(t){a(Object(m.a)(Object(m.a)({},r),{},Object(O.a)({},t.target.name,t.target.value))),e.handleSearchTerms(t.target.value),e.setShowResults(t.target.value.trim().length>0)},autoComplete:"off",onKeyDown:function(e){"Enter"===e.key&&n(e)}}),""===r.term.trim()?Object(j.jsx)("div",{className:"search-button",onClick:n,children:Object(j.jsx)(p.a,{})}):Object(j.jsx)("div",{className:"search-button",onClick:function(){a({term:""}),e.resetResults()},children:Object(j.jsx)(p.d,{})})]})},f=function(e){return Object(j.jsx)(d.b,{className:"search-result-item",to:"/product/".concat(e.result.id),onClick:function(){e.setShowResults(!1)},children:e.result.title})},g=function(e){return Object(j.jsxs)("div",{className:"search-result-box ".concat(e.show?"":"hidden"),children:[Object(j.jsx)("div",{className:"no-matches ".concat(e.searchResults.length<=0?"":"hidden"),children:"No matching results found."}),e.searchResults&&e.searchResults.length>0&&e.searchResults.slice(0,7).map((function(t){return Object(j.jsx)(f,{result:t,setShowResults:e.setShowResults},t.id)})),Object(j.jsxs)("div",{className:"full-results ".concat(e.searchResults.length>7?"":"hidden"),onClick:function(){e.submitSearch()},children:["View all ",e.searchResults.length," results"]})]})},v=s(2),N=function(e){var t=Object(c.useState)(e.products),s=Object(o.a)(t,2),r=s[0],a=s[1],n=Object(c.useState)(!1),l=Object(o.a)(n,2),u=l[0],i=l[1],d=Object(v.f)(),h=function(){r?e.setProducts(r):e.resetResults(),i(!1),d.push("/")};return Object(j.jsxs)("div",{className:"search-box",children:[Object(j.jsx)(x,{handleSearchTerms:function(t){t&&t.trim().length>0?(a(Object(b.a)(e.fullResults.filter((function(e){return!(!e.title.toLowerCase().includes(t.toLowerCase())&&!e.category.toLowerCase().includes(t.toLowerCase()))})))),i(!0)):a(e.products)},setShowResults:i,submitSearch:h,resetResults:e.resetResults}),Object(j.jsx)(g,{searchResults:r,show:u,setShowResults:i,submitSearch:h})]})},R=function(e){return Object(j.jsxs)("nav",{children:[Object(j.jsx)(h,{}),Object(j.jsx)(N,{fullResults:e.fullResults,products:e.products,setProducts:e.setProducts,resetResults:e.resetResults}),Object(j.jsx)(p.b,{className:"icon-cart"})]})},S=function(e){return Object(j.jsxs)(d.b,{className:"product-box",to:"/product/".concat(e.product.id),children:[Object(j.jsx)("div",{children:Object(j.jsx)("img",{className:"product-image",src:e.product.image,alt:e.product.title})}),Object(j.jsxs)("div",{className:"product-meta",children:[Object(j.jsxs)("div",{className:"product-title",children:[e.product.title.substring(0,25),e.product.title.length>25?"...":""]}),Object(j.jsx)("div",{className:"product-category",children:e.product.category}),Object(j.jsxs)("div",{className:"product-rating",children:[Object(j.jsx)(p.c,{className:"product-star"})," ",e.product.rating]}),Object(j.jsx)("div",{className:"product-id",children:e.product.id}),Object(j.jsxs)("div",{className:"product-price",children:["$",e.product.price]})]})]})},w=function(e){return Object(j.jsx)("div",{className:"product-grid",children:e.products.length>0&&e.products.map((function(e){return Object(j.jsx)("div",{children:Object(j.jsx)(S,{product:e})},e.id)}))})},C=function(e){return Object(j.jsxs)("div",{className:"page-box",children:[Object(j.jsx)("h1",{children:"Products"}),e.searched?Object(j.jsxs)("h6",{children:[e.products.length," results found (",Object(j.jsx)(d.b,{to:"/",onClick:function(){e.resetResults()},children:"Clear"}),")"]}):"",Object(j.jsx)(w,{products:e.products})]})},y=s(33),P=s.n(y),k=function(e){var t=Object(v.g)().slug,s=Object(c.useState)(""),r=Object(o.a)(s,2),a=r[0],n=r[1];return Object(c.useEffect)((function(){e.allProducts&&e.allProducts.length>0&&n(e.allProducts.find((function(e){return e.id===t})))}),[e,t]),Object(j.jsxs)("div",{className:"product-detail-box",children:[Object(j.jsxs)("div",{className:"breadcrumb",children:[Object(j.jsx)(d.b,{to:"/",children:"Products"}),"  > ",t]}),a?Object(j.jsxs)("div",{className:"product-details",children:[Object(j.jsx)("img",{className:"product-image",src:a.image,alt:a.title}),Object(j.jsx)("h5",{children:a.brand}),Object(j.jsx)("h2",{children:a.title}),Object(j.jsx)("div",{className:"product-category",children:a.category}),Object(j.jsx)("div",{className:"product-id",children:t}),Object(j.jsxs)("div",{className:"product-rating",children:[Object(j.jsx)(p.c,{className:"product-star"})," ",a.rating," (",a.reviews,")"]}),Object(j.jsxs)("div",{className:"product-price",children:["$",a.price]}),Object(j.jsxs)("div",{className:"ctas",children:[Object(j.jsx)("button",{children:"Wishlist"}),Object(j.jsx)("button",{className:"primary",children:"Add to Cart"})]})]}):Object(j.jsx)("div",{className:a?"hidden":"",children:"No matching product found."})]})},E=function(){var e=Object(c.useState)({fullResults:[]}),t=Object(o.a)(e,2),s=t[0],r=t[1],a=Object(c.useState)({products:[]}),n=Object(o.a)(a,2),l=n[0],d=n[1];Object(c.useEffect)((function(){(function(){var e=Object(i.a)(u.a.mark((function e(){var t;return u.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,P()("http://localhost:3002/products/?category_like=Beauty%20&%20Personal%20Care");case 2:t=e.sent,r(t.data),d(t.data),console.log(t.data);case 6:case"end":return e.stop()}}),e)})));return function(){return e.apply(this,arguments)}})()()}),[]);var h=function(){d(s)};return Object(j.jsxs)("div",{className:"page-container",children:[Object(j.jsx)(R,{fullResults:s,products:l,resetResults:h,setProducts:d}),Object(j.jsxs)(v.c,{children:[Object(j.jsx)(v.a,{exact:!0,path:"/",children:Object(j.jsx)(C,{products:l,searched:l.length<s.length,resetResults:h})}),Object(j.jsx)(v.a,{path:"/product/:slug",children:Object(j.jsx)(k,{allProducts:s})})]})]})};n.a.render(Object(j.jsx)(r.a.StrictMode,{children:Object(j.jsx)(d.a,{children:Object(j.jsx)(E,{})})}),document.getElementById("root"))}},[[68,1,2]]]);
//# sourceMappingURL=main.3135521a.chunk.js.map